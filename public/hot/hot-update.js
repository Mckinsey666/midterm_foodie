webpackHotUpdate("main",{

/***/ "./js/utils.js":
/*!*********************!*\
  !*** ./js/utils.js ***!
  \*********************/
/*! exports provided: getRecipes, parseRecipes, getRandomRecipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRecipes\", function() { return getRecipes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseRecipes\", function() { return parseRecipes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRandomRecipe\", function() { return getRandomRecipe; });\nvar rp = __webpack_require__(/*! request-promise */ \"./node_modules/request-promise/lib/rp.js\");\n\nvar $ = __webpack_require__(/*! cheerio */ \"./node_modules/cheerio/index.js\");\n\nfunction getRecipes() {\n  var url = \"https://tasty.co\";\n  var index = [0, 1, 2];\n  return rp(url).then(function (html) {\n    var recipe = $(\".recent-recipes__list\", html);\n    var dish = index.map(function (i) {\n      return $(\".feed-item\", recipe)[i].attribs.href;\n    });\n    var content = index.map(function (i) {\n      return ['src', 'alt'].map(function (tag) {\n        return $(\".feed-item__img\", recipe)[i].attribs[tag];\n      });\n    });\n    var res = index.map(function (i) {\n      return {\n        link: dish[i],\n        img: content[i][0],\n        title: content[i][1]\n      };\n    });\n    return res;\n  })[\"catch\"](function (err) {});\n}\n\nfunction parseRecipes(url) {\n  return rp(url).then(function (html) {\n    var ingredients = [];\n    $('.ingredients__section li', html).each(function (i, item) {\n      var str = $(item).text().split('\\n').map(function (str) {\n        return str.trim();\n      }).filter(function (str) {\n        return str !== \"\";\n      }).join(' ');\n      ingredients.push(str);\n    });\n    var steps = $(\".prep ol\", html).text().split('\\n').map(function (str) {\n      return str.trim();\n    }).filter(function (str) {\n      return str !== \"\";\n    });\n    return {\n      ingredients: ingredients,\n      steps: steps\n    };\n  })[\"catch\"](function (err) {});\n}\n\nfunction getRandomRecipe() {\n  var base_url = \"https://tasty.co/topic/easy-dinner\";\n  return rp(base_url).then(function (html) {\n    var feeds = $('.feed-item', html);\n    var feed_url = feeds[Math.floor(Math.random() * feeds.length).toString()].attribs.href;\n    console.log(feed_url);\n    return rp(feed_url).then(function (html) {\n      var recipes = $('.feed-item', html);\n      var idx = Math.floor(Math.random() * recipes.length).toString(); //console.log(recipes.length);\n      //console.log($(\".feed-item__img\", html).length);\n\n      var recipe_url = recipes[idx].attribs.href;\n      var content = ['src', 'alt'].map(function (tag) {\n        return $(\".feed-item__img\", html)[Math.floor(2 * idx)].attribs[tag];\n      });\n      return {\n        link: recipe_url,\n        img: content[0],\n        title: content[1]\n      };\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n} //getRandomRecipe().then(content => console.log(content)).catch(err => console.log(err));\n\n\n\n\n//# sourceURL=webpack:///./js/utils.js?");

/***/ })

})